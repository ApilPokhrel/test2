(this["webpackJsonpefsc-gallery"]=this["webpackJsonpefsc-gallery"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(38),s=n.n(o),a=(n(48),n(7)),i=n(4),c=(n.p,n(49),n(14)),l=n(24),d=n(1),u=["component"],b=function(e){var t=e.component,n=Object(l.a)(e,u);return Object(d.jsx)(i.b,Object(c.a)(Object(c.a)({},n),{},{render:function(e){return localStorage.getItem("token")?Object(d.jsx)(t,Object(c.a)({},e)):Object(d.jsx)(i.a,{to:"/login"})}}))},m=["component","restricted"],x=function(e){var t=e.component,n=e.restricted,r=Object(l.a)(e,m);return Object(d.jsx)(i.b,Object(c.a)(Object(c.a)({},r),{},{render:function(e){return localStorage.getItem("token")&&n?Object(d.jsx)(i.a,{to:"/"}):Object(d.jsx)(t,Object(c.a)({},e))}}))};function j(e){var t=e.path,n=e.method,r=e.body,o=e.params;return new Promise((function(e,s){var a=new URL("http://localhost:3600/api/v1"+t);o&&Object.keys(o).forEach((function(e){return a.searchParams.append(e,o[e])})),fetch(a,{headers:{"content-type":"application/json",token:window.localStorage.getItem("token")},method:n,body:JSON.stringify(r)}).then((function(e){if(e.ok)return e.json();401===e.status?window.location.href="/verification":s(e)})).then((function(t){return e(t)})).catch((function(e){return s(e)}))}))}var h=n(21),g=n(22);function p(e){e.preventDefault();var t,n=new FormData(e.target),r={},o=Object(g.a)(n.entries());try{for(o.s();!(t=o.n()).done;){var s=t.value;r=Object(c.a)(Object(c.a)({},r),Object(h.a)({},s[0],s[1]))}}catch(a){o.e(a)}finally{o.f()}return r}var f=function(){var e=Object(i.g)();return Object(d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(d.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(d.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})]}),Object(d.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(t){var n=p(t);n.password.length<6?alert("Invalid password"):j({path:"/user/login",method:"post",body:n}).then((function(t){window.localStorage.setItem("token",t.accessToken),t.user.is_verified?e.push("/"):e.push("/verification")}))},method:"POST",children:[Object(d.jsx)("input",{type:"hidden",name:"remember",value:"true"}),Object(d.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{for:"email-address",className:"sr-only",children:"Email address"}),Object(d.jsx)("input",{id:"email-address",name:"email",type:"email",autocomplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{for:"password",className:"sr-only",children:"Password"}),Object(d.jsx)("input",{id:"password",name:"password",type:"password",autocomplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(d.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(d.jsx)("svg",{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(d.jsx)("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})})}),"Sign in"]})})]})]})})},O=function(){var e=Object(i.g)();return Object(d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(d.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(d.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify your account"})]}),Object(d.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(t){j({path:"/user/code",method:"post",body:p(t)}).then((function(t){e.push("/")})).catch((function(e){return alert("Invalid code!")}))},method:"POST",children:[Object(d.jsx)("input",{type:"hidden",name:"remember",value:"true"}),Object(d.jsx)("div",{className:"rounded-md shadow-sm -space-y-px",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{for:"code",className:"sr-only",children:"Code"}),Object(d.jsx)("input",{id:"code",name:"code",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Code..."})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(d.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(d.jsx)("svg",{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(d.jsx)("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})})}),"Verify"]})})]}),Object(d.jsxs)("button",{onClick:function(e){j({path:"/user/code",method:"get"}).then((function(e){return alert("code sent!")}))},className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(d.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(d.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 11l7-7 7 7M5 19l7-7 7 7"})})}),"Send Again"]})]})})},v=function(){var e=Object(i.g)();return Object(d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:Object(d.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{className:"mx-auto h-12 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"}),Object(d.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign up for account"})]}),Object(d.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:function(t){var n=p(t);n.password.length<6?alert("Password must be at least 6 words"):j({path:"/user/register",method:"post",body:n}).then((function(t){window.localStorage.setItem("token",t.accessToken),t.user.is_verified?e.push("/"):e.push("/verification")})).catch((function(e){400===e.status&&alert("Email already taken")}))},action:"#",method:"POST",children:[Object(d.jsx)("input",{type:"hidden",name:"remember",value:"true"}),Object(d.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{for:"name",className:"sr-only",children:"Name"}),Object(d.jsx)("input",{id:"name",name:"name",type:"text",autocomplete:"name",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Full name"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{for:"email-address",className:"sr-only",children:"Email address"}),Object(d.jsx)("input",{id:"email-address",name:"email",type:"email",autocomplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{for:"password",className:"sr-only",children:"Password"}),Object(d.jsx)("input",{id:"password",name:"password",type:"password",autocomplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"})]})]}),Object(d.jsx)("div",{children:Object(d.jsxs)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[Object(d.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:Object(d.jsx)("svg",{className:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(d.jsx)("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})})}),"Sign up"]})})]})]})})},w=n(43),y=n(13),N=n(77),k=n(78),S=n(42),C=function(){return!!localStorage.getItem("token")};function z(e){var t=Object(i.g)();return Object(d.jsxs)(N.a,{className:"relative bg-white",children:[Object(d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:Object(d.jsxs)("div",{className:"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10",children:[Object(d.jsx)("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:Object(d.jsxs)("a",{href:"#",children:[Object(d.jsx)("span",{className:"sr-only",children:"Workflow"}),Object(d.jsx)("img",{className:"h-8 w-auto sm:h-10",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:""})]})}),Object(d.jsx)("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:C()?Object(d.jsxs)("div",{children:[Object(d.jsx)(a.b,{to:e.link,className:"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:e.linkText}),Object(d.jsx)("button",{onClick:function(e){j(JSON.stringify({query:" {\n                logout{\n                    name\n                }\n              }"})).then((function(e){window.localStorage.removeItem("token"),t.push("/login")}))},className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Logout"})]}):Object(d.jsxs)("div",{children:[" ",Object(d.jsx)(a.b,{to:"/login",className:" ml-8 whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),Object(d.jsx)(a.b,{to:"/signup",className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign up"})]})})]})}),Object(d.jsx)(k.a,{as:r.Fragment,enter:"duration-200 ease-out",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"duration-100 ease-in",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(d.jsx)(N.a.Panel,{focus:!0,className:"absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden",children:Object(d.jsxs)("div",{className:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50",children:[Object(d.jsx)("div",{className:"pt-5 pb-6 px-5",children:Object(d.jsxs)("div",{className:"flex items-center justify-between",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{className:"h-8 w-auto",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Workflow"})}),Object(d.jsx)("div",{className:"-mr-2",children:Object(d.jsxs)(N.a.Button,{className:"bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",children:[Object(d.jsx)("span",{className:"sr-only",children:"Close menu"}),Object(d.jsx)(S.a,{className:"h-6 w-6","aria-hidden":"true"})]})})]})}),Object(d.jsx)("div",{className:"py-6 px-5 space-y-6",children:Object(d.jsx)("div",{children:C()?Object(d.jsx)(a.b,{to:"/test",className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Take quiz"}):Object(d.jsxs)("div",{children:[Object(d.jsx)(a.b,{to:"/signup",className:"mt-6 w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign up"}),Object(d.jsxs)("p",{className:"mt-6 text-center text-base font-medium text-gray-500",children:["Existing account?"," ",Object(d.jsx)(a.b,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})]})})})]})})})]})}function P(e){return Object(d.jsx)(d.Fragment,{children:e.show?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:Object(d.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:Object(d.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[Object(d.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t",children:[Object(d.jsx)("h3",{className:"text-3xl font-semibold",children:"Modal Title"}),Object(d.jsx)("button",{className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:function(){return e.close()},children:Object(d.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),Object(d.jsx)("div",{className:"relative p-6 flex-auto",children:Object(d.jsx)("div",{children:Object(d.jsxs)("form",{className:"m-4 flex",onSubmit:e.submit,children:[Object(d.jsx)("input",{className:"rounded-l-lg p-4 border-t mr-0 border-b border-l text-gray-800 border-gray-200 bg-white",name:"name",defaultValue:e.name,placeholder:"Album name"}),Object(d.jsx)("button",{className:"px-8 rounded-r-lg bg-blue-400  text-gray-800 font-bold p-4 uppercase border-t border-b border-r",children:"Edit"})]})})}),Object(d.jsx)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b",children:Object(d.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:function(){return e.close()},children:"Close"})})]})})}),Object(d.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]}):null})}var T=["bg-gray-800","bg-red-500","bg-blue-800","bg-green-500","bg-yellow-400","bg-gray-400","bg-gray-100"],A=function(e){return e>T.length-1?T[e%T.length]:T[e]};function E(){var e=Object(r.useState)([]),t=Object(y.a)(e,2),n=t[0],o=t[1],s=Object(r.useState)(0),a=Object(y.a)(s,2),c=a[0],l=a[1],u=Object(r.useState)(0),b=Object(y.a)(u,2),m=b[0],x=b[1],h=Object(r.useState)(!1),g=Object(y.a)(h,2),f=g[0],O=g[1],v=Object(r.useState)({}),N=Object(y.a)(v,2),k=N[0],S=N[1],C=Object(r.useState)(!1),T=Object(y.a)(C,2),E=T[0],I=T[1],V=Object(i.g)(),W=function(e){j({path:"/album/",method:"get",params:{limit:20,start:e}}).then((function(e){l(e.start+e.limit),o(e.data),x(e.total),O(!1)})).catch((function(e){return O(!1)}))};Object(r.useEffect)((function(){W(0)}),[]);return Object(d.jsxs)("div",{className:"bg-white",children:[Object(d.jsx)(z,{linkText:"",link:"#"}),Object(d.jsx)(P,{submit:function(e){e.preventDefault();var t=p(e);j({path:"/album/"+k._id,method:"PATCH",body:t}).then((function(e){W(0),I(!1)})).catch((function(e){alert("try again")}))},name:k.name,show:E,close:function(){I(!1)}}),Object(d.jsxs)("div",{className:"max-w-2xl mx-auto px-4  sm:px-6 lg:max-w-7xl lg:px-8",children:[Object(d.jsx)("h2",{className:"sr-only",children:"Albums"}),Object(d.jsx)("div",{children:Object(d.jsxs)("form",{className:"m-4 flex",onSubmit:function(e){e.preventDefault(),j({path:"/album/",method:"post",body:p(e)}).then((function(e){o([].concat(Object(w.a)(n),[e])),l(c+1)})).catch((function(e){return alert("try again")}))},children:[Object(d.jsx)("input",{className:"rounded-l-lg p-4 border-t mr-0 border-b border-l text-gray-800 border-gray-200 bg-white",name:"name",placeholder:"Album name"}),Object(d.jsx)("button",{className:"px-8 rounded-r-lg bg-blue-400  text-gray-800 font-bold p-4 uppercase border-t border-b border-r",children:"Add"})]})}),Object(d.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:n.map((function(e,t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{onClick:function(){return V.push("/gallery/"+e._id)},className:"w-40 h-40 m-4 ".concat(A(t)," rounded-2xl items-center justify-center text-center text-white py-16 cursor-pointer\t"),children:e.name}),Object(d.jsx)("button",{onClick:function(t){S(e),I(!0)},className:"bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded",children:"Edit"}),Object(d.jsx)("button",{onClick:function(t){return n=e._id,void(window.confirm("Are you sure")&&j({path:"/album/"+n,method:"delete"}).then((function(e){})).catch((function(e){return alert("try again")})));var n},className:"bg-transparent hover:bg-red-500 text-red-700 font-semibold hover:text-white py-2 px-4 border border-red-500 hover:border-transparent rounded",children:"Remove"})]})}))}),Object(d.jsx)("div",{class:"flex justify-center",children:f?Object(d.jsx)("div",{className:"inline-flex rounded-md shadow-sm",children:Object(d.jsxs)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition ease-in-out duration-150",children:[Object(d.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Load"]})}):m>20*c?Object(d.jsx)("div",{className:"inline-flex rounded-md shadow-sm",children:Object(d.jsx)("button",{type:"button",onClick:function(e){O(!0),W(c)},className:"inline-flex items-center px-4 py-2 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition ease-in-out duration-150",children:"Load"})}):""})]})]})}var I=n(41),V=n.n(I);function W(e){var t=Object(r.useState)([]),n=Object(y.a)(t,2),o=n[0],s=n[1],a=Object(r.useState)(0),i=Object(y.a)(a,2),c=i[0],l=i[1],u=Object(r.useState)(0),b=Object(y.a)(u,2),m=b[0],x=b[1],h=Object(r.useState)(!1),p=Object(y.a)(h,2),f=p[0],O=p[1],v=Object(r.useState)([]),w=Object(y.a)(v,2),N=w[0],k=w[1],S=Object(r.useCallback)((function(t){j({path:"/file/"+e.match.params.id,method:"get",params:{limit:20,start:t}}).then((function(e){l(e.start+e.limit),s(e.data),x(e.total),O(!1)})).catch((function(e){return O(!1)}))}),[e.match.params.id]);Object(r.useEffect)((function(){S(0)}),[S]);return Object(d.jsxs)("div",{className:"bg-white",children:[Object(d.jsx)(z,{linkText:"",link:"#"}),Object(d.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-6  sm:px-6 lg:max-w-7xl lg:px-8",children:[Object(d.jsx)("h2",{className:"sr-only",children:"Albums"}),Object(d.jsx)("div",{children:Object(d.jsxs)("form",{className:"m-4 flex",onSubmit:function(t){if(t.preventDefault(),N.length){var n,r=new FormData,o=Object(g.a)(N);try{for(o.s();!(n=o.n()).done;){var s=n.value;r.append("file",s)}}catch(a){o.e(a)}finally{o.f()}V.a.post("http://localhost:3600/api/v1/file/".concat(e.match.params.id),r,{headers:{token:window.localStorage.getItem("token")||""}}).then((function(e){S(0)})).catch((function(e){return alert(e)}))}},children:[Object(d.jsx)("input",{className:"rounded-l-lg p-4 border-t mr-0 border-b border-l text-gray-800 border-gray-200 bg-white",name:"name",type:"file",multiple:!0,onChange:function(e){k(e.target.files)},placeholder:"Album name"}),Object(d.jsx)("button",{className:"px-8 rounded-r-lg bg-blue-400  text-gray-800 font-bold p-4 uppercase border-t border-b border-r",children:"Upload"})]})}),Object(d.jsx)("div",{className:"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8",children:o.map((function(e,t){return Object(d.jsxs)("a",{href:e.href,className:"group",children:[Object(d.jsx)("div",{className:"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8",children:e.mimetype.startsWith("image/")?Object(d.jsx)("img",{src:e.origin+"/"+e.name,alt:e.name,className:"w-full h-full object-center object-cover group-hover:opacity-75"}):Object(d.jsx)("video",{className:"video-container video-container-overlay",autoPlay:!0,loop:"",muted:"",controls:!0,children:Object(d.jsx)("source",{type:e.type,src:"/"+e.name})})}),Object(d.jsx)("p",{className:"mt-1 text-lg font-medium text-gray-900",children:Object(d.jsx)("button",{onClick:function(t){return n=e._id,void(window.confirm("Are you sure")&&j({path:"/file/"+n,method:"delete"}).then((function(e){S(0)})).catch((function(e){return alert("try again")})));var n},className:"px-8 rounded-r-lg bg-blue-400  text-gray-800 font-bold p-4 uppercase border-t border-b border-r",children:"Remove"})})]},e.id)}))}),Object(d.jsx)("div",{class:"flex justify-center",children:f?Object(d.jsx)("div",{className:"inline-flex rounded-md shadow-sm",children:Object(d.jsxs)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition ease-in-out duration-150",children:[Object(d.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(d.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(d.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Load"]})}):m>20*c?Object(d.jsx)("div",{className:"inline-flex rounded-md shadow-sm",children:Object(d.jsx)("button",{type:"button",onClick:function(e){O(!0),S(c)},className:"inline-flex items-center px-4 py-2 border border-transparent text-base leading-6 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-500 focus:outline-none focus:border-indigo-700 focus:shadow-outline-indigo active:bg-indigo-700 transition ease-in-out duration-150",children:"Load"})}):""})]})]})}var B=function(){return Object(d.jsx)("h1",{children:"404 Not Found"})},F=function(){return Object(d.jsx)(a.a,{children:Object(d.jsx)("div",{children:Object(d.jsxs)(i.d,{children:[Object(d.jsx)(x,{restricted:!0,component:f,path:"/login",exact:!0}),Object(d.jsx)(x,{restricted:!0,component:v,path:"/signup",exact:!0}),Object(d.jsx)(b,{component:O,path:"/verification",exact:!0}),Object(d.jsx)(b,{component:E,path:"/",exact:!0}),Object(d.jsx)(b,{component:W,path:"/gallery/:id",exact:!0}),Object(d.jsx)(i.b,{component:B})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(d.jsx)(F,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[75,1,2]]]);
//# sourceMappingURL=main.d05b0e2c.chunk.js.map